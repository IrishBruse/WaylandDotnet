// <auto-generated>
// This file was generated from wayland.xml
// Stability: Core
// Link: https://wayland.app/protocols/wayland
// </auto-generated>

#nullable enable
#pragma warning disable CS1591
#pragma warning disable CS0108
#pragma warning disable CS8604

namespace WaylandDotnet;

using System;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Runtime.InteropServices.Marshalling;
using System.Text;
using WaylandDotnet;
using WaylandDotnet.Internal;
using WaylandDotnet.Stable;
using WaylandDotnet.Wlr;

/// <summary>
/// wl_subsurface
/// <para> sub-surface interface to a wl_surface </para>
/// <para> Version: 1 </para>
/// <see>https://wayland.app/protocols/wayland/#wl_subsurface</see>
/// </summary>
public sealed partial class WlSubsurface : WaylandObject, IWaylandObjectFactory<WlSubsurface>
{
    public const string InterfaceName = "wl_subsurface";
    public static string _StaticInterfaceName => "wl_subsurface";
    public const int InterfaceVersion = 1;

    public WlSubsurface(IntPtr handle, WlDisplay display) : base(handle, display, InterfaceName, InterfaceVersion)
    {
    }
    /// <summary>  </summary>
    public enum Error : uint
    {
        /// <summary>
        /// wl_surface is not a sibling or the parent
        /// </summary>
        BadSurface = 0,
    }

    /// <summary>
    /// Remove sub-surface interface
    /// <para>
    /// <br/>
    /// The sub-surface interface is removed from the wl_surface object<br/>
    /// that was turned into a sub-surface with a<br/>
    /// wl_subcompositor.get_subsurface request. The wl_surface's association<br/>
    /// to the parent is deleted. The wl_surface is unmapped immediately.<br/>
    /// <br/>
    /// </para>
    /// </summary>
    public unsafe void Destroy()
    {
        CheckDisposed();

        var args = stackalloc WlArgument[0];

        const uint opcode = 0;

        var newProxy = WaylandNative.ProxyMarshalArrayFlags(
            Handle,
            opcode,
            (WlInterface*)IntPtr.Zero,
            0,
            0,
            (nint)args
        );
    }

    /// <summary>
    /// Reposition the sub-surface
    /// <para>
    /// <br/>
    /// This sets the position of the sub-surface, relative to the parent<br/>
    /// surface.<br/>
    /// <br/>
    /// The sub-surface will be moved so that its origin (top left<br/>
    /// corner pixel) will be at the location x, y of the parent surface<br/>
    /// coordinate system. The coordinates are not restricted to the parent<br/>
    /// surface area. Negative values are allowed.<br/>
    /// <br/>
    /// The initial position is 0, 0.<br/>
    /// <br/>
    /// Position is double-buffered state on the parent surface, see<br/>
    /// wl_subsurface and wl_surface.commit for more information.<br/>
    /// <br/>
    /// </para>
    /// </summary>
    public unsafe void SetPosition(int x, int y)
    {
        CheckDisposed();

        var args = stackalloc WlArgument[2];
        args[0].i = x;
        args[1].i = y;

        const uint opcode = 1;

        var newProxy = WaylandNative.ProxyMarshalArrayFlags(
            Handle,
            opcode,
            (WlInterface*)IntPtr.Zero,
            0,
            0,
            (nint)args
        );
    }

    /// <summary>
    /// Restack the sub-surface
    /// <para>
    /// <br/>
    /// This sub-surface is taken from the stack, and put back just<br/>
    /// above the reference surface, changing the z-order of the sub-surfaces.<br/>
    /// The reference surface must be one of the sibling surfaces, or the<br/>
    /// parent surface. Using any other surface, including this sub-surface,<br/>
    /// will cause a protocol error.<br/>
    /// <br/>
    /// A new sub-surface is initially added as the top-most in the stack<br/>
    /// of its siblings and parent.<br/>
    /// <br/>
    /// Z-order is double-buffered state on the parent surface, see<br/>
    /// wl_subsurface and wl_surface.commit for more information.<br/>
    /// <br/>
    /// </para>
    /// </summary>
    public unsafe void PlaceAbove(WlSurface sibling)
    {
        CheckDisposed();

        var args = stackalloc WlArgument[1];
        args[0].o = (WlObject*)(sibling?.Handle ?? IntPtr.Zero);

        const uint opcode = 2;

        var newProxy = WaylandNative.ProxyMarshalArrayFlags(
            Handle,
            opcode,
            (WlInterface*)IntPtr.Zero,
            0,
            0,
            (nint)args
        );
    }

    /// <summary>
    /// Restack the sub-surface
    /// <para>
    /// <br/>
    /// The sub-surface is placed just below the reference surface.<br/>
    /// <br/>
    /// See wl_subsurface.place_above.<br/>
    /// <br/>
    /// </para>
    /// </summary>
    public unsafe void PlaceBelow(WlSurface sibling)
    {
        CheckDisposed();

        var args = stackalloc WlArgument[1];
        args[0].o = (WlObject*)(sibling?.Handle ?? IntPtr.Zero);

        const uint opcode = 3;

        var newProxy = WaylandNative.ProxyMarshalArrayFlags(
            Handle,
            opcode,
            (WlInterface*)IntPtr.Zero,
            0,
            0,
            (nint)args
        );
    }

    /// <summary>
    /// Set sub-surface to synchronized mode
    /// <para>
    /// <br/>
    /// Change the commit behaviour of the sub-surface to synchronized<br/>
    /// mode.<br/>
    /// <br/>
    /// See wl_subsurface and wl_surface.commit for more information.<br/>
    /// <br/>
    /// </para>
    /// </summary>
    public unsafe void SetSync()
    {
        CheckDisposed();

        var args = stackalloc WlArgument[0];

        const uint opcode = 4;

        var newProxy = WaylandNative.ProxyMarshalArrayFlags(
            Handle,
            opcode,
            (WlInterface*)IntPtr.Zero,
            0,
            0,
            (nint)args
        );
    }

    /// <summary>
    /// Set sub-surface to desynchronized mode
    /// <para>
    /// <br/>
    /// Change the commit behaviour of the sub-surface to desynchronized<br/>
    /// mode.<br/>
    /// <br/>
    /// See wl_subsurface and wl_surface.commit for more information.<br/>
    /// <br/>
    /// </para>
    /// </summary>
    public unsafe void SetDesync()
    {
        CheckDisposed();

        var args = stackalloc WlArgument[0];

        const uint opcode = 5;

        var newProxy = WaylandNative.ProxyMarshalArrayFlags(
            Handle,
            opcode,
            (WlInterface*)IntPtr.Zero,
            0,
            0,
            (nint)args
        );
    }

    public static WlSubsurface Create(nint handle, WlDisplay display)
    {
        return new WlSubsurface(handle, display);
    }
}
